{"version":3,"sources":["../../src/providers/memory.provider.ts","../../src/pages/invitations/invitations.ts","../../src/pages/memory-create/memory-create.ts","../../src/pages/memory/memory.ts","../../src/pages/search-tictactoe-players/search-tictactoe-players.ts","../../src/pages/tictactoe/tictactoe.ts","../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/providers/camera.provider.ts","../../src/providers/globals.ts","../../src/pages/tabs/tabs.ts","../../src/pages/home/home.ts","../../src/providers/login.provider.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/models/models.ts","../../src/providers/user.ts","../../src/providers/alert.provider.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["/*\nimport { AlertProvider } from './alert.provider';\nimport { Alert, Events, Content, Platform } from 'ionic-angular';\n*/\n\nimport { Injectable } from '@angular/core';\nimport { Models } from '../models/models';\nimport { MEMORY_SIZE } from './globals'\n\n@Injectable()\nexport class MemoryProvider {\n\n  constructor(\n    /* \n    private alert : AlertProvider,\n    public events: Events\n     */\n    private models: Models\n  ) {\n  }\n\n  initCards () {\n    let rows, cols, row, col, index\n      rows  = []\n      cols  = []\n      row   = 0\n      col   = 0\n      index = 0\n\n    while(row < MEMORY_SIZE.rows) {     \n      while(col < MEMORY_SIZE.cols) {\n        cols.push({index: index})\n        col++\n        index ++\n      }\n      col = 0\n      rows.push(cols)\n      cols = []\n      row ++\n    }\n    return rows\n  }\n\n  initCardsToSend () {\n    let i      = 0,\n        output = []\n    while(i < MEMORY_SIZE.cards) {\n      output.push({index: i})\n      i++\n    }\n    return output\n  }\n\n  uploadNewPackage(cards, uid) {\n    return new Promise(resolve=>{\n      let address\n      for (let card of cards) {   \n        address = 'images/'+ uid + '/' + card.index\n        this.models.fbStorageUpload(address, card.src, false).then(res=>{\n          resolve(res)\n        })\n        //this.events.publish('loadingStatus', i)\n      }\n    }).catch(err => {\n      throw \"Problème uploadNewPackage ... \" + err\n    }) \n  }\n\n  async getUrls() { \n    let urls = [], i = 0, url\n    while(i < MEMORY_SIZE.cards){\n      url = await this.models.getFirebaseImageUrl('/images/autre_id_d_utilisateur/'+i+'.png')\n      urls.push(url)\n      i++\n    }\n    return urls\n  }\n\n  setUpCardsSrc(urls) {\n    let cards  = [], i = 0\n    return new Promise(resolve => {\n      for (let url of urls) {\n        cards.push({src: url, isVisible: true})\n        i++\n      } \n      resolve(cards)\n    }).catch(err => {\n      throw \"Problème setUpCardsSrc ... \" + err\n    })\n  }\n\n  loadCards() {\n    this.models.presentLoadingDefault() \n    return new Promise(resolve => {     \n      this.getUrls().then(urls => {  \n        this.setUpCardsSrc(urls).then(cards => {      \n          this.randomizeCards(cards).then(result => {\n            resolve(result)\n          })\n        })\n      })\n    }).catch(err => {\n      throw 'Problème loadCards ... ' + err\n    })  \n  }\n  \n  randomizeCards(cards) {\n    return new Promise(resolve => {\n      \n      let expandableCards = cards,\n      toBeRandomized = [],\n      output = [],\n      card,\n      newCard,\n      i = 0\n\n      const randomIndex = (length) => ( Math.round( Math.random() * (length) - 0.51) )\n\n      while (expandableCards.length > MEMORY_SIZE.cards/2) {\n        expandableCards.splice( randomIndex(expandableCards.length) , 1) \n      }\n\n      while (expandableCards.length > 0) {\n        card = expandableCards.splice( randomIndex(expandableCards.length) , 1)\n        newCard = {src: card[0].src, isVisible: true, index: i}\n        card[0].index = i + 1\n        toBeRandomized.push(newCard)\n        toBeRandomized.push(card[0])\n        i += 2\n      }\n\n      while (toBeRandomized.length > 0) {\n        card = toBeRandomized.splice( randomIndex(toBeRandomized.length) , 1)\n        output.push(card[0])\n      }\n      \n      resolve(output)\n    }).catch(err => {\n      throw \"Problème randomizeCards  ... \" + err\n    })\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/memory.provider.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\nimport { AngularFireDatabase } from 'angularfire2/database';\n\n@IonicPage()\n@Component({\n  selector: 'page-invitations',\n  templateUrl: 'invitations.html',\n})\nexport class InvitationsPage {\n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams, \n    public viewCtrl: ViewController,\n    public db: AngularFireDatabase,\n  ) {\n  }\n\n  /*ionViewDidEnter() {\n    console.log(this.invitations)\n  }*/\n\n  invitations = this.navParams.get('invitations')\n  uid = this.navParams.get('uid')\n\n  goBack() {\n    this.viewCtrl.dismiss()\n  }\n\n  accept(invitation) {\n    // l'objet invitation correspond à un élément du tableau invitations reçues\n    // on se positionne dans firebase, au niveau du 'currentGame' des 2 utilisateurs qu'on update avec la référence de la partie dans 'tictactoe/games/'\n    const otherPlayerId = invitation.sender.uid,\n          user1Ref = 'users/'+otherPlayerId,\n          user2Ref = 'users/'+this.uid\n    // la seule chose qui change pour chaque joueur, c'est l'id de l'opposant      \n    let update = { ttt_currentGame: { id: invitation.id, against: this.uid, } }\n    this.db.object(user1Ref).update(update)\n    \n    update.ttt_currentGame.against = otherPlayerId\n\n    this.db.object(user2Ref).update(update)\n    this.viewCtrl.dismiss(/*invitation*/)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/invitations/invitations.ts","/* import { ViewCache } from '@firebase/database/dist/esm/src/core/view/ViewCache'; */\n\nimport { Component/*, ViewChild*/ } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Events,/*, Content, Platform*/ \nViewController} from 'ionic-angular';\nimport { ActionSheetController } from 'ionic-angular';\n\nimport { CameraProvider } from '../../providers/camera.provider';\nimport { AlertProvider } from '../../providers/alert.provider';\nimport { MemoryProvider } from '../../providers/memory.provider';\n\nimport { User } from '../../providers/user'\nimport { Models } from '../../models/models'\n\n\n\n\n@IonicPage()\n\n@Component({\n  selector: 'page-memory-create',\n  templateUrl: 'memory-create.html',\n})\n\nexport class MemoryCreatePage {\n  /*@ViewChild(Content) content: Content*/\n  \n  constructor(\n    public  navCtrl         : NavController, \n    public  navParams       : NavParams,\n    private memoryProvider  : MemoryProvider,\n    private camera          : CameraProvider,\n    private actionSheetCtrl : ActionSheetController, \n    private alert           : AlertProvider,\n    private models          : Models,\n    private user            : User,\n    public  events          : Events,\n    public viewCtrl         : ViewController\n  ) {}\n  \n  cards = this.initCards()\n  cardsToSend = this.memoryProvider.initCardsToSend()\n  canUploadPackage = true\n  \n  initCards(){\n    return this.memoryProvider.initCards()\n  }\n  ionViewDidLoad() {\n    /*this.events.subscribe(\"loadingStatus\" ,i => {\n      this.loadingStatus = (i * 5 / 100) + \"/100\"\n    })*/\n    this.viewCtrl.setBackButtonText('');\n  }\n  \n\n  addCard (cardIndex, rowIndex) {\n    this.presentActionSheet(cardIndex, rowIndex);\n  }\n  \n  presentActionSheet(cardIndex, rowIndex) {\n    let actionSheet = this.actionSheetCtrl.create({\n      title: 'Ajouter une \"memoryCard\"',\n      buttons: [\n        {\n          text: 'Nouvelle image',\n          handler: () => {\n            this.models.presentLoadingDefault()\n            this.camera.getPicture(1, false, false).then(img => {\n              this.handleImg(img, cardIndex, rowIndex)\n            })\n          },\n        },{\n          text: 'Depuis la bibliothèque',\n          handler: () => {\n            this.models.presentLoadingDefault()\n            this.camera.getPicture(0, false, false).then(img => {\n              this.handleImg(img, cardIndex, rowIndex)\n            })\n          },\n        },{\n          text: 'Annuler',\n          role: 'Annuler',\n        }\n      ]\n    });\n    actionSheet.present();\n  }\n\n  handleImg (img_, cardIndex, rowIndex) {\n    let img       = <any>{}\n    img = img_    // on récupère l'image au format blob\n    \n    this.cards[rowIndex][cardIndex - (4 * rowIndex)].src = img \n    // exemple : si la carte a pour index 7, sachant que les lignes font 4 éléments, \n    // la carte sera située à l'index ('la ligne') 1 du tableau this.cards, à l'index 3 de ce deuxième tableau de this.cards\n    // pour déduire index = 3, on lui retire autant de lignes ('de paquets') de 4 cartes précédentes \n    \n    this.cardsToSend[cardIndex] = this.cards[rowIndex][cardIndex - (4 * rowIndex)]\n\n    // on update le tableau final d'images, numérotées de 0 à 19\n    \n    this.camera.readURL(img, '#img'+cardIndex) \n    //on attribut l'image à la souce de l'élément html ayant pour id \"img7\" (si cette carte a pour index 7 bien sûr :b)\n  }\n\n  addCards () { //une fois que les 20 cartes sont ajoutées, on peut les envoyer dans le storage de firebase\n    if (this.isReadyToSend()) {\n      this.models.presentLoadingDefault()\n      this.memoryProvider.uploadNewPackage(this.cardsToSend, this.user.id)\n      this.canUploadPackage = false\n    } else {\n      let title, message\n      \n      if(this.canUploadPackage) {\n        title   = \"Jeu de cartes incomplet\",\n        message = \"Vous devez ajouter 20 images pour constituer un jeu et pouvoir le poster.\"\n      } else {\n        title   = \"Jeu de carte déjà créé\",\n        message = \"Vous devez quitter cette page avant de pouvoir poster un nouveau jeu.\"\n      }\n      this.alert.presentAlert(title, message, \"Ah d'accord !\")\n    }\n  }\n\n  isReadyToSend() {\n    if(this.canUploadPackage) {\n      for (let card of this.cardsToSend) {\n        if (!card.src) {\n          return false\n        }\n      }\n      return true\n    } else {\n      return false\n    }  \n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/memory-create/memory-create.ts","/*import { Models } from '../../models/models'*/\n\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ActionSheetController } from 'ionic-angular';\nimport { AlertProvider } from '../../providers/alert.provider';\n\n\nimport { User } from '../../providers/user';\n\nimport { MemoryProvider } from '../../providers/memory.provider';\nimport { MemoryCreatePage } from '../memory-create/memory-create';\n\n\n@IonicPage()\n@Component({\n  selector: 'page-memory',\n  templateUrl: 'memory.html',\n})\nexport class MemoryPage {\n\n  constructor(\n    /* private models : Models, */\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    private user : User,\n    private memoryProvider : MemoryProvider,\n    private actionSheetCtrl : ActionSheetController,\n    private alertProvider : AlertProvider\n  ) {\n  }\n\n  clickCard(card) {\n    if(this.canPlay) {\n      const index = this.cards.indexOf(card)\n      this.playedCards.push(index)\n      this.cards[index].isVisible = true\n      if (this.playedCards.length === 2) { \n        this.canPlay = false\n        if (this.cards[this.playedCards[0]].src === this.cards[this.playedCards[1]].src) {\n          this.playedCards.splice(0,2)\n          this.cardsWon += 2\n          if (this.cardsWon === this.cards.length) {\n            this.alertProvider.presentAlert(\"Félicitations :)\", \"Vous avez trouvé en seulement \"+ (10 - this.attemptsLeft) +\" tentatives\", \"ok\")\n          }\n          this.canPlay = true\n        } else {\n          setTimeout(()=> {\n            this.canPlay = true\n            this.cards[this.playedCards[0]].isVisible = false\n            this.cards[this.playedCards[1]].isVisible = false\n            this.playedCards.splice(0,2)\n            if (this.attemptsLeft === 0) {\n              this.alertProvider.presentAlert(\"Perdu :(\", \"Nombre maximum de tentatives utilisé\", \"ok\")\n            }\n          }, 2000)\n        }\n        this.attemptsLeft --\n      }\n    }\n  }\n\n  presentActionSheet() {\n    let actionSheet = this.actionSheetCtrl.create({\n      title: 'Choisir',\n      buttons: [\n        {\n          text: 'Jeu en ligne',\n          handler: () => {\n            this.loadNewGame()\n          },\n        },{\n          text: 'Créer un nouveau jeu',\n          handler: () => {\n            this.navCtrl.push(MemoryCreatePage)\n          },\n        },{\n          text: 'Annuler',\n          role: 'Annuler',\n        }\n      ]\n    });\n    actionSheet.present();\n  }\n\n  cards = []//this.memoryProvider.initCards()\n  emptyCards = this.memoryProvider.initCards()\n  image = <any>{}\n  playedCards = []\n  cardsWon = 0\n  canPlay = true\n  attemptsLeft = 10\n\n  initCards(cards) {\n    this.cards.splice(0, this.cards.length)\n    for (let card of cards) {\n      this.cards.push(card)\n    }\n    this.runGame()\n  }\n\n  loadNewGame(){\n    this.memoryProvider.loadCards().then(cards => {\n      this.initCards(cards)\n      this.attemptsLeft = 10\n      this.cardsWon = 0\n      /*let index\n      for (let i in res) {\n        index = parseInt(i)\n        if (index < 4) {\n          this.cards[0][i] = res[i]\n        } else if (index < 8) {\n          this.cards[1][index - 4] = res[i]\n        } else if (index < 12){\n          this.cards[2][index - 8] = res[i]\n        } else if (index < 16) {\n          this.cards[3][index - 12] = res[i]\n        } else {\n          this.cards[4][index - 16] = res[i]\n        }  \n      }*/\n\n    })\n  }\n\n  runGame() {\n    setTimeout(()=>{\n      this.cards.map(card=> { card.isVisible = false })\n    },5000)\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad MemoryPage');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/memory/memory.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\nimport { Models } from '../../models/models';\n\n@IonicPage()\n@Component({\n  selector: 'page-search-tictactoe-players',\n  templateUrl: 'search-tictactoe-players.html',\n})\nexport class SearchTictactoePlayersPage {\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public viewCtrl: ViewController, private models: Models) {\n  }\n\n  players = []\n  \n  invite(player){\n    this.viewCtrl.dismiss(player.uid)\n  }\n  \n  goBack() {\n    this.viewCtrl.dismiss()\n  }\n\n  async displayPlayers() {\n    const myId = this.navParams.get('uid')\n    const result = await this.models.fbSearchFor(\"users\")\n    let players = <any>{}\n    players = result\n    for (let player of players) {\n      if (player.uid !== myId) {\n        this.players.push(player)\n      }\n    }\n  }\n\n  ionViewDidEnter(){\n   this.displayPlayers()\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search-tictactoe-players/search-tictactoe-players.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ModalController, ActionSheetController } from 'ionic-angular';\nimport { AngularFireDatabase } from 'angularfire2/database';\n\nimport { AlertProvider } from '../../providers/alert.provider'\nimport { User } from '../../providers/user'\nimport { Models } from '../../models/models'\n\nimport { InvitationsPage } from '../invitations/invitations'\nimport { SearchTictactoePlayersPage } from '../search-tictactoe-players/search-tictactoe-players'\n\n@IonicPage()\n\n@Component({\n  selector: 'page-tictactoe',\n  templateUrl: 'tictactoe.html'\n})\nexport class TictactoePage {\n  constructor(\n    public \tnavCtrl: NavController, \n    public navParams: NavParams, \n\tprivate alertProvider: AlertProvider,\n\tpublic user: User,\n\tprivate models : Models,\n\tprivate db : AngularFireDatabase,\n\tprivate modal : ModalController,\n\tprivate actionSheetCtrl : ActionSheetController\n  ) {\n\n  }\n\t\n\tionViewDidEnter() {\n\t\t// dès que l'on ouvre la vue tictactoe, on 'écoute' les changements en base de données : ... \n\t\tconst userRef = \"users/\" + this.user.id\n\n\t\t// ... de la possibilité d'inviter un autre joueur\n\t\tthis.db.object(userRef+'/ttt_invitationSent').valueChanges().subscribe(invitationSent => {\n\t\t\tthis.user.ttt_invitationSent = <any>{}\n\n\t\t\t// si aucune invitation envoyée en attente : 'ttt_invitationSent' : false dans firebase\n\t\t\tthis.user.ttt_invitationSent = invitationSent\n\t\t})\n\n\t\t// ... de l'état de notre partie en cours (si aucune partie en cours, le noeud 'ttt_currentGame' = false)\n\t\tthis.db.object(userRef+'/ttt_currentGame').valueChanges().subscribe(currentGame => {\n\t\t\tthis.currentGame = currentGame\n\t\t\t// si une partie est en cours, on suit son statut dans firebase\n\t\t\tif (this.currentGame) {\n\t\t\t\tthis.startVersusGame(this.currentGame.against, this.currentGame.id)\n\n\t\t\t}\n\n\t\t})\n\n\t\t//  ... des invitations reçues\n\t\tthis.db.object(userRef+'/ttt_invitationsRecieved').valueChanges().subscribe(snapshot => {\n\t\t\tlet ttt_invitationsRecieved = <any>{}\n\t\t\tttt_invitationsRecieved = snapshot\n\n\t\t\tthis.user.ttt_invitationsRecieved = []\n\t\t\tfor (let i in ttt_invitationsRecieved) {\n\t\t\t\t// on recharge notre tableau d'invitations reçues\n\t\t\t\tthis.user.ttt_invitationsRecieved.push(ttt_invitationsRecieved[i])\n\t\t\t}\n\t\t})\n\n\t\t// notre classe User est donc mise à jour à chaque changement de ces 2 valeurs\n\t}\n\n\tionViewWillLeave() {\n\t\t// avant de quitter la vue, on désactive les listeners\n\t\tconst userRef = \"users/\" + this.user.id\n\t\tthis.db.database.ref(userRef+'/ttt_invitationSent').off()\n\t\tthis.db.database.ref(userRef+'/ttt_invitationsRecieved').off()\n\t\tif (this.currentGame)  {\n\t\t\tthis.db.database.ref('tictactoe/games/'+this.currentGame.id+'/state').off()\n\t\t}\n\t}\n\t\t\n\tpresentActionSheet() {\t\n\t\tlet actionSheet = this.actionSheetCtrl.create({\n\t\t\ttitle: 'Choisir',\n\t\t\tbuttons: [\n\t\t\t{\n\t\t\t\t// partie contre l' I.A.\n\t\t\t\ttext: 'Entrainement solo',\n\t\t\t\thandler: () => {\n\t\t\t\tthis.alertProvider.selectSymbol(this)\n\t\t\t\t},\n\t\t\t},{\n\t\t\t\ttext: 'Trouver un adversaire',\n\t\t\t\thandler: () => {\n\t\t\t\tthis.searchTictactoePlayers()\n\t\t\t\t},\n\t\t\t},{\n\t\t\t\t// entre parenthèses : le nombre d'invitations reçues\n\t\t\t\ttext: 'Invitations reçues ('+ this.user.ttt_invitationsRecieved.length +')',\n\t\t\t\thandler: () => {\n\t\t\t\tthis.checkForInvitationsRecieved()\n\t\t\t\t},\n\t\t\t}\n\t\t\t]\n\t\t});\n\t\tactionSheet.present();\t  \n\t}\n \n \tcheckForInvitationsRecieved() {\n\t\tlet data = {invitations: this.user.ttt_invitationsRecieved, uid: this.user.id}\n\t\tlet modal = this.modal.create(InvitationsPage, data)\n\t\tmodal.present()\n\t\t/*modal.onDidDismiss(invitationAccepted => {\n\t\t\tif (invitationAccepted) {\n\t\t\t\tconst game = 'tictactoe/games/'+invitationAccepted.id\n\t\t\t\tthis.listenGameState(game)\n\t\t\t}\n\t\t})*/\n\n\t}\n\n\tsearchTictactoePlayers(){\n\t\tconst data = {uid: this.user.id}\n\t\tlet modal = this.modal.create(SearchTictactoePlayersPage, data)\n\t\tmodal.present()\n\t\tmodal.onDidDismiss(player => {\n\t\t\tif (player) {\n\t\t\t\tthis.sendInvitationForNewGame(player)\n\t\t\t}\n\t\t})\n\t}\n \n \t sendInvitationForNewGame(otherPlayer) {\n\t\t// on ne peut envoyer qu'une seule invitation à la fois : on vérifie donc que 'ttt_invitationSent' est à false\n\t\tif (!this.user.ttt_invitationSent) {\n\t\t\t// on crée une nouvelle id unique de partie composée de 12 caratères aléatoires\n\t\t\tconst gameRef = this.models.createRandomKey(12)\n\t\t\t// une fois l'invitation envoyée, on ne peut plus créer de nouvelle partie puisque notre 'gameRef'\n\t\t\t// ne peut prendre qu'une seule valeur à la fois\n\t\t\tconst ref = \"users/\" + otherPlayer + '/ttt_invitationsRecieved'\n\t\t\t// on met à jour le noeud firebase de l'utilisateur qui reçoit l'invitation\n\t\t\t// on lui ajoute dans ses invitations reçus, une nouvelle invitation\n\t\t\tthis.db.object(ref).update({\n\t\t\t\t[gameRef] : {\n\t\t\t\t\tsender : {\n\t\t\t\t\t\tuid: this.user.id,\n\t\t\t\t\t\talias: this.user.alias,\n\t\t\t\t\t},\n\t\t\t\t\tid: gameRef,\n\t\t\t\t}\n\t\t\t})\n\t\t\t// on modifie le noeud 'invitationSent' de l'utilisateur qui envoie l'invitation\n\t\t\tconst invitationSentRef = 'users/'+this.user.id+'/ttt_invitationSent',\n\t\t\t\t  invitationsSentObj = this.db.object(invitationSentRef)\n\t\t\t\n\t\t\t\t  invitationsSentObj.set({\n\t\t\t\t[gameRef] : {\n\t\t\t\t\tid: gameRef, \n\t\t\t\t\taccepted: false,\n\t\t\t\t}\n\t\t\t})\n\t\t\tthis.gameRef = gameRef\n\t\t}\n\t}\n\t\n\tstartVersusGame(otherPlayer, gameRef) {\n\t\t\n\t\tconst game   = 'tictactoe/games/',\n\t\t\t\t// on choisi aléatoirement qui pourra commencer à jouer\n\t\t\t  player = Math.random() < 0.5 ? this.user.id : otherPlayer,\n\t\t\t  // on choisit aléatoirement le symbole de chacun\n\t\t\t  otherPlayerSymbol = Math.random() < 0.5 ? 'X' : 'O',\n\t\t\t  uid = this.user.id\n\n\t\tthis.player.is = otherPlayerSymbol === 'X' ? 'O' : 'X' \n\t\t\t  \n\t\t// on crée une nouvel objet de partie dans le noeud games du noeud tictactoe dans la firebase\n\t\tthis.db.object(game).update({\n\t\t\t[gameRef] : {\n\t\t\t\tplayers : {\n\t\t\t\t\t[uid] : {\n\t\t\t\t\t\tid: uid,\n\t\t\t\t\t\tis: this.player.is,\n\t\t\t\t\t},\t\n\t\t\t\t\t[otherPlayer] : {\n\t\t\t\t\t\tid: otherPlayer,\n\t\t\t\t\t\tis: otherPlayerSymbol,\n\t\t\t\t\t}\t\n\t\t\t\t},\t\n\t\t\t\tstate : {\n\t\t\t\t\t// par exemple si la première case en haut à gauche est jouée avec une croix, et que la case du milieu est un rond\n\t\t\t\t\t// le nouveau currentState sera : \"X---O----\"\n\t\t\t\t\tcurrentState: \"---------\",\n\t\t\t\t\t// \"playing\" correspond au joueur qui peut jouer le prochain coup\n\t\t\t\t\tplaying: player,\n\t\t\t\t\tmoves: 0,\n\t\t\t\t\tscores : {\n\t\t\t\t\t\t[uid] : 0,\n\t\t\t\t\t\t[otherPlayer] : 0,\n\t\t\t\t\t}\t\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\tconsole.log(game)\n\t\t\n\n\t\tconst currentGame = {id: gameRef, against: otherPlayer}\n\t\tthis.listenGameState (currentGame)\n\t}\n\n\tlistenGameState (currentGame) {\n\t\tconst gameStateRef = 'tictactoe/games/'+ currentGame.id + '/state'\n\t\t// on met un listenner sur l'état d'avancement de la partie\n\t\tthis.db.object(gameStateRef).valueChanges().subscribe(res => {\n\t\t\t// dès qu'un nouveau coup est joué, que l'état est donc modifié...\n\t\t\tlet gameState = <any>{}\n\t\t\tgameState = res\n\t\t\tgameState.currentState\n\t\t\t.split('')\n\t\t\t.map( (value, index) => \n\t\t\t\tthis.items[index] =  value !== '-' ? {value: value} : {value: \"\"} \n\t\t\t)// ... on retranscrit le state en tableau et on assigne ces nouvelles valeurs à notre tableau de cases qui est rendu à l'écran\n\t\t\t\n\t\t\t// selon le joueur qui peut jouer le prochain coup, on autorise ou non le joueur à jouer\n\t\t\tthis.canPlay = gameState.playing === this.user.id ? true : false\n\n\t\t\t// le nombres de cases remplies est updaté également : au bout de 9 tours ou si un des 2 joueurs gagne, la partie est remise à zéro\n\t\t\tif (this.hasWon() || this.moves === 10) {\n\t\t\t\tif (gameState.playing === this.user.id && this.moves < 10) {\n\t\t\t\t\tgameState.scores[currentGame.against] ++\n\t\t\t\t\tthis.alertProvider.presentAlert(\"Défaite ;(\", \"Vous avez perdu...\", \"Ok\")\n\t\t\t\t} else if (this.moves < 10) {\n\t\t\t\t\tgameState.scores[this.user.id] ++\n\t\t\t\t\tthis.alertProvider.presentAlert(\"Victoire :D\", \"Vous avez gagné !!\", \"Ok\")\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.moves = 0\n\t\t\t\tgameState.moves = this.moves\n\t\t\t\tgameState.currentState = '---------'\n\t\t\t\tthis.db.object(gameStateRef).update(gameState)\t\n\t\t\t} \n\t\t})\n\t}\n \n\tinvitationsRecieved = []\n\tcurrentGame = <any>{}\n\tgameRef = \"\"\n\titems  \t=  [{},{},{},{},{},{},{},{},{}]\n\tplayer \t=  {is: \"\", score: 0}\n\tcpu    \t=  {is: \"\", score: 0}\n\tmoves  \t=  0\n\tcanPlay =  true\n\tlines  \t=  [\n\t\t[0, 1, 2],\n\t\t[3, 4, 5],\n\t\t[6, 7, 8],\n\t\t[0, 3, 6],\n\t\t[1, 4, 7],\n\t\t[2, 5, 8],\n\t\t[0, 4, 8],\n\t\t[2, 4, 6],\n\t];\n\t\n\tinitItems () {\n\t\tthis.moves = 0\n\t\tlet output = [], i = 0\n\t\twhile (i < 9) {\n\t\t\n\t\t\toutput.push({})\n\t\t\ti++\n\t\t\n\t\t}\n\n\t\tthis.items = output\n\t\t\n\t\tif ( !this.canPlay && !this.currentGame) {\n\t\t\tthis.ai()\t\n\t\t}\n\t}\n\t\n\tselectSymbol(symbol) {\n\t\tthis.player.is = symbol\n\t\tthis.cpu.is = symbol === \"X\" ? \"O\" : \"X\"\n\t}\n \n\tplaySquare(event) {\n\t\tif (this.canPlay) {\n\t\t\tlet items = <any>{}\n\t\t\titems = this.items\n\t\t\tif(!items[event.target.id].value) {\n\t\t\t\titems[event.target.id].value = this.player.is\n\t\t\t\tif (this.currentGame) {\n\t\t\t\t\tlet currentState = \"\"\n\t\t\t\t\titems.map((item, index) => \n\t\t\t\t\tcurrentState += item.value !== \"\" ? item.value : \"-\"\n\t\t\t\t\t)\n\t\t\t\t\tthis.db.object('tictactoe/games/' + this.currentGame.id + '/state').update({\n\t\t\t\t\t\tcurrentState: currentState,\n\t\t\t\t\t\t// \"playing\" correspond au joueur qui peut jouer le prochain coup\n\t\t\t\t\t\tplaying: this.currentGame.against,\n\t\t\t\t\t\tmoves : this.moves + 1,\n\t\t\t\t\t})\n\t\t\t\t} else {\t\n\t\t\t\t\tthis.canPlay = false\n\t\t\t\t\tthis.items = items\n\t\t\t\t\tthis.moves++\n\t\t\t\t\tthis.runGame(this.player.is)\n\t\t\t\t}\t\n\t\t\t}\n\t\t}\n\t}\n\n\thasWon() {\n\t\tlet items = <any>{}\n\t\titems = this.items\t\n\t\tfor (let i = 0, len = this.lines.length; i < len; i++) {\n\t\t\tconst [a, b, c] = this.lines[i];\n\t\t\tif (items[a].value && items[a].value === items[b].value && items[a].value === items[c].value) {\n\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\t\n\t}\n\n\trunGame(playing){\n\t\tif (this.hasWon()) {\n\n\t\t\tthis.alertProvider.confirmRestart(\"Fin de partie !\", playing, this)\n\t\t\t\n\t\t\tif (playing === this.player.is) {\t\n\t\t\t\tthis.player.score ++\n\t\t\t} else {\n\t\t\t\tthis.cpu.score ++\n\t\t\t}\n\n\t\t} else if (this.moves < 9 && playing === this.player.is) {\n\t\t\n\t\t\tthis.ai()\n\t\n\t\t} else  {\n\t\t\t\n\t\t\tthis.initItems()\n\t\t\t\n\t\t}\n\t}\n\n\tcancelGame() {\n\n\t}\n\n\trestart() {\n\t\tthis.initItems()\t\n\t}\n\n\tai() {\t\t\n\t\tsetTimeout( () => {\n\t\t\tlet i  \n\t\t\tlet items = <any>{}\n\t\t\titems = this.items\n\t\t\tdo {\n\t\t\t\ti = Math.round(Math.random() * items.length - 0.51)\n\t\t\t} while(items[i].value)\n\n\t\t\titems[i].value = this.cpu.is\n\t\t\tthis.items = items\n\t\t\tthis.runGame(this.cpu.is)\n\t\t\tthis.canPlay = true\n\n\t\t}, 800);\t\n  \t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tictactoe/tictactoe.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 238;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 238\n// module chunks = 6","var map = {\n\t\"../pages/hangman/hangman.module\": [\n\t\t695,\n\t\t0\n\t],\n\t\"../pages/invitations/invitations.module\": [\n\t\t696,\n\t\t5\n\t],\n\t\"../pages/memory-create/memory-create.module\": [\n\t\t697,\n\t\t4\n\t],\n\t\"../pages/memory/memory.module\": [\n\t\t698,\n\t\t3\n\t],\n\t\"../pages/search-tictactoe-players/search-tictactoe-players.module\": [\n\t\t699,\n\t\t2\n\t],\n\t\"../pages/tictactoe/tictactoe.module\": [\n\t\t700,\n\t\t1\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 283;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 283\n// module chunks = 6","/*\nimport { Platform } from 'ionic-angular';\nimport { AngularFireDatabase } from 'angularfire2/database';\nimport { FIREBASE_CONFIG } from '../../pages/firebase';\nimport { AlertProvider } from './alert.provider';\n*/\n\nimport { Injectable } from '@angular/core';\n\nimport { Camera, CameraOptions } from '@ionic-native/camera';\n\nimport * as $ from \"jquery\";\n\nimport { Models } from '../models/models';\n\n@Injectable()\nexport class CameraProvider {\n\n  constructor(\n    /*private db: AngularFireDatabase,\n    private platform : Platform,\n    private alert : AlertProvider\n    */\n    private camera: Camera, \n    private models : Models  \n  ) {}\n  \n  getPicture(sourceType, uid, packNumber) {\n    return new Promise(resolve => {\n      \n      const options: CameraOptions = {\n        quality: 10,\n        sourceType: sourceType,\n        allowEdit: true,\n        targetHeight: 100,\n        targetWidth: 100,\n        destinationType: 0,\n        encodingType: 1,\n        mediaType: this.camera.MediaType.PICTURE,\n      }\n    \n      this.camera.getPicture(options).then((imageDataURL) => {\n       \n        this.models.b64toBlob(imageDataURL, false, false).then(blob => {\n         \n          if (uid) {\n            const address = '/images/' + uid\n            this.models.fbStorageUpload(address, blob, true).then(url => {\n              resolve(url)\n            })\n          } else {\n            resolve(blob)\n          } \n        })\n      }).catch(err => {\n        throw err\n      })\n    })      \n  }\n  \n  readURL(_file, str) {\n    const hw = 270\n    let reader = new FileReader();\n    reader.onload = function (e:Event) {\n      $(str)\n        .attr('src', reader.result)\n        .width(hw)\n        .height(hw);\n    };\n    reader.readAsDataURL(_file);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/camera.provider.ts","/*export const API_KEY_ALTERNMUSIQUE:string = \"http://api.altermusique.org/json/all/\";\nexport const API_KEY_IWEATHER:string = \"http://api.wunderground.com/api/8c05acc6eb88a173/conditions/q/\";*/\n\nexport const FIREBASE_CONFIG = {\n    apiKey: \"AIzaSyAX6W2OE9xJTU8jzmuM04u9iozNBNjMIu0\",\n    authDomain: \"mes-petis-jeux.firebaseapp.com\",\n    databaseURL: \"https://mes-petis-jeux.firebaseio.com\",\n    projectId: \"mes-petis-jeux\",\n    storageBucket: \"mes-petis-jeux.appspot.com\",\n    messagingSenderId: \"821855228089\"\n};\n\nexport const MEMORY_SIZE = {\n    cols: 4,\n    rows: 5,\n    cards: 20\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/globals.ts","import { Component } from '@angular/core';\nimport { HomePage } from '../home/home';\nimport { TictactoePage } from '../tictactoe/tictactoe';\nimport { MemoryPage } from '../memory/memory';\n\n@Component({\n  templateUrl: 'tabs.html'\n})\nexport class TabsPage {\n\n  tab1Root = HomePage;\n  tab2Root = TictactoePage;\n  tab3Root = MemoryPage;\n\n  constructor() {\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs/tabs.ts","import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\n\nimport { LoginProvider } from '../../providers/login.provider';\nimport { User } from '../../providers/user'\nimport { Storage } from '@ionic/storage';\n\n\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\n\nexport class HomePage {\n\n  constructor(\n    public \tnavCtrl: NavController, \n    private loginService: LoginProvider,\n    private/*public*/ user: User,\n    private storage : Storage\n  ) {}\n\n  password = \"\"\n  \n  signIn() {\n    this.loginService.signIn(this.user.email, this.password)\n  }\n  \n  signUp() {\n    this.loginService.signUp(this.user.email, this.password, this.user.alias)\n  }\n\n  ionViewDidLoad(){\n    this.storage.get('user').then(user => {\n      if (user) {\n        this.user.init(user.id, user.alias, user.email, user.ttt_canInvite, user.ttt_invitationsRecieved);\n      }\n    })\n  }\n  \n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","/*import { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs/Observable';\nimport { AngularFirestore } from 'angularfire2/firestore';\n*/\n\nimport { Injectable/*, Testability*/ } from '@angular/core';\nimport { Storage } from '@ionic/storage';\n\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport { AngularFireDatabase } from 'angularfire2/database';\nimport { AlertProvider } from './alert.provider';\nimport { User } from './user'\n\n\n\n@Injectable()\nexport class LoginProvider {\n  authState: any = null;\n  \n  constructor(\n    /*public http: HttpClient, \n    private afs : AngularFirestore,*/\n    private afAuth : AngularFireAuth,\n    private db : AngularFireDatabase,\n    private alertCtrl : AlertProvider,\n    private user : User,\n    private storage : Storage\n  ){   \n    /*this.afAuth.authState.subscribe((auth) => {\n      this.authState = auth\n    });*/\n  }\n  \n  async signIn(email, pw) {\n\n    try {\n      const connectedUser = await this.afAuth.auth.signInWithEmailAndPassword(email, pw);\n      if (connectedUser) {\n\n        const usersRef$ = this.db.object('/users/'+connectedUser.uid)\n        usersRef$.valueChanges().subscribe(user_res => {     \n        let user = <any>{}\n        user = user_res \n        this.user.init(user.uid, user.alias, user.email, user.ttt_canInvite, user.ttt_invitationsRecieved )\n        this.storage.set('user', this.user)\n\n        })\n        this.alertCtrl.presentAlert(\"Félicitations \"+this.user.alias, \"Vous êtes connecté !\", \"Ok\")\n      }  \n    }\n    catch (e) {\n      let errorMessage = \"\"\n      if (e.code === \"auth/user-not-found\") {\n        errorMessage = \"Adresse mail inconnue\"\n      } else if (e.code === \"auth/wrong-password\") {\n        errorMessage = \"Mot de passe incorrecte\"\n      } else {\n        errorMessage = \"Un problème est survenu, merci de réessayer.\"\n      }\n      this.alertCtrl.presentAlert(\"Erreur\", errorMessage, \"ok\")\n    }\n  }\n\n  async signUp (email, pw, alias) {\n    \n    if (await this.aliasTaken(alias)) {\n      this.alertCtrl.presentAlert(\"Désolé\", \"Ce pseudo est déjà pris :(\", \"Ok\") \n    } else {\n      this.createUser(email, pw, alias)\n    }\n  }\n  \n  aliasTaken(alias) {\n    return new Promise(resolve => {\n      /*\n      this.db.database.ref('/users').on('value', function(snapshot) {\n        for (let i in snapshot.val()) {\n          if (snapshot.val()[i].alias === alias) {\n            resolve(true)\n          }\n        }\n        resolve(false)\n      })\n      */\n      const usersRef$ = this.db.list('/users', ref => ref.orderByChild('alias').equalTo(alias))\n      \n      usersRef$.valueChanges().subscribe(users => {\n\n        users.length > 0 ? resolve(true) : resolve(false)\n      \n      })\n      /*\n      users.forEach(user => {\n        if (user.payload.val().alias === alias) {\n          resolve(true)\n        }\n      })\n      resolve(false)\n      */\n    }).catch(err => {\n      console.log(err)\n    });\n  }\n\n  async createUser(email, pw, alias) {\n    try {\n      const user = await this.afAuth.auth.createUserWithEmailAndPassword(\n        email,\n        pw\n      );\n      if (user.uid) {        \n        const ref = this.db.object(\"users\")\n        ref.update({\n          [user.uid] : {\n            email : email,\n            alias : alias,\n            uid : user.uid,\n            ttt_canInvite : true,\n            ttt_invitationsRecieved : false,\n          }\n        })\n        this.user.init(user.uid, alias, email, true, false)\n        this.storage.set('user', this.user)\n        this.alertCtrl.presentAlert(\"Félicitations\", \"Vous êtes connecté en tant que \"+alias, \"Ok\")\n      }\n    } catch (e) {\n      if (e.code === \"auth/email-already-in-use\") {\n        this.alertCtrl.presentAlert(\"Erreur\", \"Cette adresse mail est déjà associée à un autre compte\", \"ok\")\n      }\n    }\n  }\n\n  /*\n  createUser2(email, pw, alias) {\n    var that = this\n    this.afAuth.auth.createUserWithEmailAndPassword(email, pw).then(user => {\n      if (user.uid) {        \n        const ref = that.db.object(\"users\")\n        ref.update({\n          [user.uid] : {\n            email : email,\n            alias : alias,\n            uid: user.uid\n          }\n        })\n        that.alertCtrl.presentAlert(\"Félicitations\", \"Vous êtes connecté en tant que \"+alias, \"Ok\")\n      }\n    }).catch(err => {\n      console.log(err)\n    })\n  }\n\n  async signInAnonymously(email, pw) {\n    this.afAuth.auth.signInAnonymously()\n    .then((user) => {\n      this.authState = user\n      this.afAuth.auth.onAuthStateChanged((user) => {\n        if (user) {\n          var uid = user.uid;\n          console.log(user)\n        }\n      });\n    })\n    .catch(error => console.log(error));\n  }\n  */\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/login.provider.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { NgModule, ErrorHandler } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\nimport { MyApp } from './app.component';\nimport { HttpModule } from '@angular/http';\nimport { IonicStorageModule } from '@ionic/storage';\n\n\nimport { AngularFireModule } from 'angularfire2';\nimport { AngularFireDatabaseModule } from 'angularfire2/database';\nimport { AngularFirestore } from 'angularfire2/firestore';\nimport { AngularFireAuthModule } from 'angularfire2/auth';\nimport { AngularFireStorage, AngularFireStorageModule } from 'angularfire2/storage';\n\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { Camera } from '@ionic-native/camera';\n\n\n// PAGES\nimport { TabsPage } from '../pages/tabs/tabs';\nimport { HomePage } from '../pages/home/home';\nimport { TictactoePage } from '../pages/tictactoe/tictactoe';\nimport { InvitationsPage } from '../pages/invitations/invitations';\nimport { SearchTictactoePlayersPage } from '../pages/search-tictactoe-players/search-tictactoe-players'\nimport { MemoryPage } from '../pages/memory/memory'; \nimport { MemoryCreatePage } from '../pages/memory-create/memory-create';\n\n// GLOBAL VARIABLES\nimport { User } from '../providers/user'\nimport { FIREBASE_CONFIG } from '../providers/globals';\n\n// PROVIDERS\nimport { AlertProvider } from '../providers/alert.provider';\nimport { LoginProvider } from '../providers/login.provider';\nimport { CameraProvider } from '../providers/camera.provider';\nimport { Models } from '../models/models';\nimport { MemoryProvider } from '../providers/memory.provider';\n\n\n@NgModule({\n  declarations: [\n    MyApp,\n    HomePage,\n    TictactoePage,\n    InvitationsPage,\n    SearchTictactoePlayersPage,\n    MemoryPage,\n    MemoryCreatePage,\n    TabsPage,\n  ],\n  imports: [\n    BrowserModule,\n    IonicModule.forRoot(MyApp),\n    IonicStorageModule.forRoot(),\n    HttpModule,\n\n    AngularFireModule.initializeApp(FIREBASE_CONFIG),\n    AngularFireDatabaseModule,\n    AngularFireAuthModule,\n    AngularFireStorageModule,\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    HomePage,\n    TictactoePage,\n    InvitationsPage,\n    SearchTictactoePlayersPage,\n    MemoryPage,\n    MemoryCreatePage,\n    TabsPage\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\n    AlertProvider,\n    LoginProvider,\n    MemoryProvider,\n    User,\n    AngularFirestore,\n    Camera,\n    CameraProvider,\n    Models\n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { TabsPage } from '../pages/tabs/tabs';\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  rootPage:any = TabsPage;\n\n  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen) {\n    platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      statusBar.styleDefault();\n      splashScreen.hide();\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { Injectable } from '@angular/core';\n/*import { AlertProvider } from '../alert/alert'*/\n\nimport { LoadingController } from 'ionic-angular';\nimport { AngularFireStorage } from 'angularfire2/storage';\nimport { AngularFireDatabase } from 'angularfire2/database';\n\n@Injectable()\nexport class Models {\n\n  constructor(\n    /*private alert: AlertProvider,*/ \n    private afs: AngularFireStorage,\n    private db: AngularFireDatabase,\n    private loadingCtrl : LoadingController) {\n  }\n\n  b64toBlob(b64Data, contentType, sliceSize) {\n    return new Promise((resolve, reject) => {\n      contentType = contentType || 'image/png';\n      sliceSize = sliceSize || 512;\n      let byteCharacters = atob(b64Data);\n\n      let byteArrays = [];\n\n      for (let offset = 0, l = byteCharacters.length; offset < l; offset += sliceSize) {\n        let slice = byteCharacters.slice(offset, offset + sliceSize);\n\n        let byteNumbers = new Array(slice.length);\n        for (let i = 0, len = slice.length; i < len; i++) {\n          byteNumbers[i] = slice.charCodeAt(i);\n        }\n    \n        let byteArray = new Uint8Array(byteNumbers);\n    \n        byteArrays.push(byteArray);\n      }\n    \n      const blob = new Blob(byteArrays, {type: contentType});\n  \n      resolve(blob)\n    \n    }).catch( e => {\n      throw e\n      /*const error = JSON.stringify(e)\n      //this.alert.presentAlert(\"Erreur\", e, \"OK\" );*/\n    })   \n  }\n\n  presentLoadingDefault() { // loader de ionic appelé le temps que l'image s'affiche\n    let loading = this.loadingCtrl.create({\n      content: 'Chargement, veuillez patienter...'\n    });\n    loading.present();\n    setTimeout(() => {\n      loading.dismiss();\n    }, 2000);\n  }\n\n  fbSearchFor(items) {\n    return new Promise (resolve => {\n      const itemsRef$ = this.db.list('/'+items)\n      \n      itemsRef$.valueChanges().subscribe(listOfItems => {\n        listOfItems ? resolve(listOfItems) : resolve([])\n      })\n    }).catch(err => {\n      throw err\n    })\n  }\n\n  getFirebaseImageUrl(imageId) {\n    return new Promise (resolve => {\n      this.afs.ref(imageId).getDownloadURL().subscribe(url => {\n        resolve(url);\n      })\n    }).catch(err => {\n      throw err\n    })\n  }\n  \n  fbStorageUpload(address, blob, needUrl) {\n    return new Promise(resolve => {\n      this.afs.upload(address, blob).snapshotChanges().subscribe(res => {\n        if (needUrl) {\n          this.getFirebaseImageUrl(address).then(url_ => {\n            let url = <any>{}\n            url = url_\n            resolve(url)\n          })\n        } else {\n          resolve(false)\n        } \n      })\n    })  \n  }\n\n  createRandomKey(length){\n  let text = \"\", i = 0\n  const possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\"\n\n    while(i < length){\n      text += possible.charAt(Math.round(Math.random() * possible.length-0.51))\n      i ++\n    }\n    return text;\n  }\n\n  \n}  \n\n\n\n// WEBPACK FOOTER //\n// ./src/models/models.ts","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class User {\n    id?:string;//\"id_in_firebase\";\n    alias?:string;\n    email?:string;\n    score?:number;\n    ttt_invitationsRecieved?:any;\n    ttt_invitationSent?:any;\n    \n    constructor() {}\n\n    \n    \n    \n    init(\n        id:string, \n        alias:string, \n        email:string,\n        ttt_invitationSent:any, \n        ttt_invitationsRecieved: any\n    ) {\n        this.id = id\n        this.alias = alias\n        this.email = email\n        this.ttt_invitationSent = ttt_invitationSent\n        this.ttt_invitationsRecieved = ttt_invitationsRecieved\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/user.ts","/*\nimport { HttpClient } from '@angular/common/http';\n*/\nimport { Injectable } from '@angular/core';\n\nimport { AlertController } from 'ionic-angular';\n\n\n@Injectable()\nexport class AlertProvider {\n\n  constructor(private alertCtrl: AlertController) {\n  }\n  \n  presentAlert(title, subTitle, btn_txt) {\n    let alert = this.alertCtrl.create({\n      title: title,\n      subTitle: subTitle,\n      buttons: [btn_txt]\n    });\n    alert.present();\n  }\n  \n  confirmRestart(title, playing, that) {\n    const self = this\n    let message = playing === that.player.is ? \"Le joueur \"+playing+\" gagne\" : \"L'ordinateur gagne\"\n    let alert = this.alertCtrl.create({\n      title: title,\n      message: message,\n      buttons: [\n        {\n          text: \"Continuer\",\n          handler: () => {\n            self.selectSymbol(that)\n          }\n        }\n      ]\n    });\n    alert.present();\n  }\n  selectSymbol(that) {\n    let alert = this.alertCtrl.create({\n      title: \"Début de partie\",\n      message: \"Choisissez un symbole\",\n      buttons: [\n        {\n          text: \"X\",\n          handler: () => {\n            that.selectSymbol(\"X\")\n            that.restart()\n          }\n        },\n        {\n          text: \"O\",\n          handler: () => {\n            that.selectSymbol(\"O\")\n            that.restart()\n          }\n        }\n      ]\n    });\n    alert.present();\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/alert.provider.ts"],"sourceRoot":""}